# 泛型

## 说明

泛型依赖 comptime

如果调用时传入的类型是常量（如 i32、f64），编译器会自动推导，显式写 comptime 可以省略。

如果在函数内部用 @sizeOf(T)、@typeInfo(T) 等编译期操作，则必须写 comptime T。

## 例子

自动推导

```zig
const std = @import("std");

const MyType = u64;

fn max(T: type, a: T, b: T) T {
    return if (a > b) a else b;
}

pub fn main() void {
    const result = max(MyType, 11, 22);
    std.log.debug("result {d}", .{result});
}
```

显式 comptime

```zig
const std = @import("std");

fn demo(comptime n: u32) void {
    const data_list: [n]u8 = undefined;
    std.log.debug("{any} {any}\n", .{ n, data_list });
}

pub fn main() void {
    demo(5);
}
```
