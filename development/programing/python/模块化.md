# 模块化

## 说明

- 直接 import xxx, xxx 需要在 sys.path 内，项目根目录默认在 sys.path 内
- from dir_xxx import dir_yyy  引用目录，必须在 __init__.py 内注册
- from dir_xxx import file_yyy 引用文件，不需要 __init__.py

## 例子

### 结构

```sh
.
├── main.py
└── sub1
    ├── __init__.py
    └── sub2
        ├── aa.py
        ├── bb.py
        ├── cc.py
        └── __init__.py
```

### 代码

main.py

```python
# sub1 的 __init__.py 内需要注册 sub2
import sub1

sub1.sub2.aa.demo1()

# 需要 sub2 的 __init__.py 内注册 aa
# 不需要 sub1 的 __init__.py
from sub1 import sub2

sub2.aa.demo1()

# 不需要任何 __init__.py
from sub1.sub2 import bb

bb.demo2()

# 不需要任何 __init__.py
from sub1.sub2.cc import demo3

demo3()
```

sub1 下 **init**.py

```python
from . import sub2

__all__ = ["sub2"]
```

sub2 下 **init**.py

```python
from . import aa

__all__ = ["aa"]
```

aa.py

```python
from loguru import logger

def demo1():
    logger.debug("demo1")
```

bb.py

```python
from loguru import logger

def demo2():
    logger.debug("demo2")
```

cc.py

```python
from loguru import logger

def demo3():
    logger.debug("demo3")
```
