# 模块化

## 例子

### 结构

```sh
.
├── main.py
├── sub1
│   └── sub2
│       ├── aa.py
│       ├── bb.py
│       ├── cc.py
│       └── __init__.py
```

### 代码

main.py

```python
# 根目录在 sys.path 内
# 需要 sub1/__init__.py 内注册子目录
import sub1
sub1.sub2.aa.demo1()

# 不在 sys.path 内
# 需要 sub2/__init__.py 内注册子模块
# 不需要 sub1/__init__.py
from sub1 import sub2
sub2.aa.demo1()

# 不需要任何 __init__.py
from sub1.sub2 import bb
bb.demo2()

# 不需要任何 __init__.py
from sub1.sub2.cc import demo3
demo3()
```

sub1 下 __init__.py

```python
from . import sub2

__all__ = ["sub2"]
```

sub2 下 __init__.py

```python
from . import aa

__all__ = ["aa"]
```

aa.py

```python
from loguru import logger

def demo1():
    logger.debug("demo1")
```

bb.py

```python
from loguru import logger

def demo2():
    logger.debug("demo2")
```

cc.py

```python
from loguru import logger

def demo3():
    logger.debug("demo3")
```
